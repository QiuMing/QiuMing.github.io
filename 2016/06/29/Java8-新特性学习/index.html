<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="xqMing"><meta name="description" content="Java8的新特性可以用一本书来描述，这里是笔者通过简单学习后的一些记录，主要涉及到Java8的默认接口方法、函数式接口、Lambda表达式、java8新的日期API和Java8新增加的工具类。"><meta name="keywords" content="Java8"><title>Java8 新特性概览 · xqMing</title><link rel="icon" href="/favicon.ico"><link rel="canonical" href="http://yoursite.com/2016/06/29/Java8-新特性学习/"><link rel="alternate" href="/atom.xml" title="xqMing"><link rel="stylesheet" href="/fonts/iconfont/iconfont.css"><link rel="stylesheet" href="/css/style.css"></head><body><div id="main"><header><a href="/." class="logo">xqMing</a><ul class="nav"><li class="nav-link"><a href="/" target="_self">Home</a></li><li class="nav-link"><a href="/archives/" target="_self">Archives</a></li><li class="nav-link"><a href="/tags/" target="_self">Tags</a></li><li class="nav-link"><a href="/about/" target="_self">About</a></li></ul></header><section id="container"><article class="post"><h1 class="post-title">Java8 新特性概览</h1><span class="post-time">Jun 29, 2016</span><div id="sidebar" class="post-sidebar"><h3 class="heading">Contents</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java8-接口默认方法"><span class="toc-text">Java8 接口默认方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Java8-函数式接口"><span class="toc-text">Java8 函数式接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Java8-之-Lambda-表达式"><span class="toc-text">Java8  之 Lambda 表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda-和-Stream"><span class="toc-text">Lambda  和 Stream</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#日期时间API"><span class="toc-text">日期时间API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#工具类"><span class="toc-text">工具类</span></a></li></ol></div><div class="post-content"><p>Java8  的新特性可以用一本书来描述，这里是笔者通过简单学习后的一些记录，主要涉及到 Java8  的默认接口方法、函数式接口、Lambda 表达式、java 8 新的日期API 和 Java8  新增加的工具类。</p>
<a id="more"></a>
<h2 id="Java8-接口默认方法"><a href="#Java8-接口默认方法" class="headerlink" title="Java8 接口默认方法"></a>Java8 接口默认方法</h2><p>引入原因：默认方法允许您添加新的功能到现有库的接口中，并能确保与采用旧版本接口编写的代码的二进制兼容性。</p>
<p>具体实例：<br>forEach 方法是 jdk 1.8 新增的接口默认方法，正是因为有了默认方法的引入，才不会因为 Iterable 接口中添加了 forEach 方法就需要修改所有 Iterable 接口的实现类，而且forEach 使用了内循环，相对之前的for循环，有以下优点：<br>1、 不一定需要顺序处理List中的元素，顺序可以不确定<br>2、可以并行处理，充分利用多核CPU的优势<br>3、 有利于JIT编译器对代码进行优化</p>
<p>除了默认方法，Java8  还在允许在接口中定义静态方法。</p>
<h2 id="Java8-函数式接口"><a href="#Java8-函数式接口" class="headerlink" title="Java8 函数式接口"></a>Java8 函数式接口</h2><p>一个接口，如果只有一个显式声明的抽象方法，那么它就是一个函数接口。一般用@FunctionalInterface标注出来（也可以不标）。举例如下：</p>
<pre><code>@FunctionalInterface
public interface Runnable { void run(); }
public interface Callable&lt;V&gt; { V call() throws Exception; }
public interface ActionListener { void actionPerformed(ActionEvent e); }
public interface Comparator&lt;T&gt; { int compare(T o1, T o2); boolean equals(Object obj); }
</code></pre><p>Java8 中新加了个java.util.function包，里面添加了Function, Supplier, Consumer, Predicate等函数式接口，这些接口经常和 Stream 结合着用:</p>
<ul>
<li>Function<k,t>  K 是输入类型，T是输出类型，其实就是一个函数的封装</k,t></li>
<li>Predicate<t> -T作为输入，返回的boolean值作为输出，常用作filter</t></li>
<li>Consumer<t> - T作为输入，执行某种动作但没有返回值</t></li>
</ul>
<h2 id="Java8-之-Lambda-表达式"><a href="#Java8-之-Lambda-表达式" class="headerlink" title="Java8  之 Lambda 表达式"></a>Java8  之 Lambda 表达式</h2><p>java是一门面向对象的语言，在Java8之前，它也是声明式编程语言，而 Java8 中 Lambda表达式的引入，使得它在写法上具有了函数式编程的特点。但它仍然是面向对象的，因为在Java8中的编写 Lambda 表达式，实质上定义了一个匿名方法，而这个方法的后面，至少有声明一个函数接口。</p>
<p>关于 Lambda 表达式，推荐书籍《精通lambda表达式：Java多核编程》</p>
<p>另外有了 Lambda 表达式，我们可以<a href="http://www.importnew.com/14841.html" target="_blank" rel="external">不要在使用循环了</a></p>
<h2 id="Lambda-和-Stream"><a href="#Lambda-和-Stream" class="headerlink" title="Lambda  和 Stream"></a>Lambda  和 Stream</h2><p>Java8  中的 Stream是对集合（Collection）对象功能的增强，它专注于对集合对象进行各种非常便利、高效的聚合操作（aggregate operation），或者大批量数据操作 (bulk data operation)。Lambda 表达式也是一种语法糖，在编写上给我提供了方便。Java8 中引入的 Strema，则紧密结合了 Lambda 表达式，充分的发挥了它的便捷性。我们可能在学习 Stream 的同时熟悉 Lambda 表达式。</p>
<p>Stream 表示能应用在一组元素上一次执行的操作序列。Stream 操作分为中间操作或者最终操作两种，最终操作返回一特定类型的计算结果，而中间操作返回Stream本身，这样我们就可以将多个操作依次串起来。</p>
<p>关于 Stream 的学习，推荐IBM 的<a href="http://www.ibm.com/developerworks/cn/java/j-lo-Java8streamapi/" target="_blank" rel="external">Java8  中的 Streams API 详解</a>。</p>
<h2 id="日期时间API"><a href="#日期时间API" class="headerlink" title="日期时间API"></a>日期时间API</h2><p>Java8 使用了 <strong>JSR 310</strong> 规范，新增了java.time包。<br>在Java8 版之前，如果我们想格式化日期，必须使用SimpleDateFormat类，用它格式化输入的日期类。而Java8 引入了以下的新日期时间类：<br>LocalTime、LocalDate 、LocalDateTime、OffsetDate、OffsetTime、OffsetDateTime</p>
<h2 id="工具类"><a href="#工具类" class="headerlink" title="工具类"></a>工具类</h2><ul>
<li>并行数组排序<br>Java8 在java.util.Arrays类中新增了并行排序功能，能够更充分地利用多线程机制。</li>
</ul>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Arrays;</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> ParallelSort &#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</div><div class="line">        <span class="keyword">int</span> arr[] = &#123;<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">5</span>&#125;;</div><div class="line">        Arrays.parallelSort(arr);</div><div class="line">        <span class="built_in">for</span>(<span class="keyword">int</span> i : arr)&#123;</div><div class="line">            System.out.<span class="built_in">print</span>(i + <span class="string">" "</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>java.util.Optional类<br>Java8 在java.util包中新增了Optional类，Optional 类是一个可以包含或不可以包含非空值的容器对象。主要用在判断对象空指针，提供了 orElseThrow、orElse 和 orElseGet 等方法。Optional 类更像是一个容器，它保存一个类型的值或是null值。通过使用 Optional 类的 isPresent() 方法，我们可以检查指定的对象是否为空。更多方法参考 <a href="http://www.importnew.com/6675.html" target="_blank" rel="external">Java8  Optional类深度解析</a></li>
</ul>
</div></article><div class="tags"><a href="/tags/Java8/">Java8</a></div><div class="paginator"><a href="/2016/06/30/MongoDB-笔记/" class="prev"><i class="iconfont icon-left"></i><span> Prev</span></a><a href="/2016/05/21/一行命令启动Web/" class="next"><span>Next</span><i class="iconfont icon-right"></i></a></div><section id="comments"><div data-thread-key="http://yoursite.com/2016/06/29/Java8-新特性学习/index.html" data-title="Java8 新特性概览" data-url="http://yoursite.com/2016/06/29/Java8-新特性学习/index.html" class="ds-thread"></div><script type="text/javascript">var duoshuoQuery = {short_name: "xqming" };
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></section></section><footer><div class="copyright"><p class="power">Powered by <a href="https://hexo.io/">Hexo</a> and Theme by <a href="https://github.com/ahonn/hexo-theme-even"> Even</a></p><p class="since">&copy;2018<span class="heart"><i class="iconfont icon-heart"></i></span><span class="author">xqMing</span></p></div><label id="back2top"><i class="iconfont icon-up"></i></label></footer></div><script src="/js/zepto.min.js"></script><script src="/js/theme.js"></script></body></html>